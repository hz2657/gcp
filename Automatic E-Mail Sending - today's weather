#---------use BeautifulSoup to scrape data-------------
#---------define function weather_spider---------------
import requests
from bs4 import BeautifulSoup

def weather_spider():
    headers={'user-agent':'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36'}
    url='https://weather.com/weather/tenday/l/New+York+City+NY?canonicalCityId=a701ee19c4ab71bbbe2f6ba2fe8c250913883e5ae9b8eee8b54f8efbdb3eec03'
    res=requests.get(url,headers=headers)
    res.encoding='utf-8'
    soup=BeautifulSoup(res.text,'html.parser')
    data1= bsdata.find(class_='_-_-components-src-molecule-DaypartDetails-DailyContent-DailyContent--daypartDate--3VGlz')
    data2= bsdata.find(class_='_-_-components-src-molecule-DaypartDetails-DailyContent-DailyContent--temp--1s3a7')
    data3= bsdata.find(class_="_-_-components-src-molecule-DaypartDetails-DailyContent-DailyContent--narrative--3Ti6_")
    
    date=data1.text
    weather=data2.text
    detail=data3.text
    return date,weather,detail

date,weather,detail = weather_spider()



# set email content, send email  

#If you are using g-mail, and have error 535, which is SMTPAuthenticationError: (535, b'5.7.8 Username and Password not accepted.

#You can switch on 2-Step Verification, and use App Password instead, reference link: https://support.google.com/accounts/answer/185833?hl=en
